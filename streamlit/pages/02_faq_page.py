import streamlit as st

# --- 페이지 기본 설정 ---
st.set_page_config(
    page_title="기업별 전기차 FAQ",
    page_icon="🙋‍♂️",
    layout="wide"
)

# --- 앱 제목 및 설명 ---
st.title("🙋‍♂️ 기업별 전기차 FAQ (자주 묻는 질문)")
st.info("궁금한 질문을 클릭하면 답변을 확인하실 수 있습니다.")
st.divider()


# --- FAQ 데이터 로드 함수 ---
@st.cache_data
def get_faq_data():
    """ 기업별 FAQ 데이터 """
    faq_data = {
        "기아": [
            {
                "질문": "EV6의 충전 도어 안에 번개 모양의 버튼은 무슨 기능인가요?",
                "답변": "EV6의 충전 도어 內 번개 모양 버튼은 즉시 충전 버튼입니다.\n만약에 예약 충전을 해지하고, 즉시 충전으로 전환하고 싶을 경우에는 해당 버튼을 2초 이상 누르면\n예약 충전이 자동으로 해지되며 즉시 충전으로 전환됩니다."
            },
            {
                "질문": "전기차 충전기 연결 후 고전압(고전압) 배터리가 충전 안되면 어떻게 해야 하나요?",
                "답변": "차량의 충전 관리 설정을 확인하십시오.\n(예 : 예약 충전이 설정되어 있는 경우 완속 충전기 및 휴대용 충전기를 연결해도 즉시 충전이 되지 않습니다.)\n· 완속 충전기, 휴대용 충전기, 급속 충전기의 작동 상태를 확인하십시오.\n(충전 작동 상태를 표시하는 방법은 각 충전기 제조사마다 상이할 수 있습니다.)\n· 충전이 안 되어 계기판에 충전 관련 경고문이 표시되면, 해당 경고문 설명 내용을 확인하십시오.\n자세한 내용은 편의 장치 「LCD 표시창」을 참고하십시오.\n· 정상으로 작동하는 다른 충전기를 연결했을 때, 이전과 동일하게 충전이 되지 않으면, 가까운 자사 직영 서비스센터나 서비스 협력사에서 점검 및 정비를 받으십시오."
            },
            {
                "질문": "친환경 전기차 충전카드는 어떻게 발급받나요?",
                "답변": "공공충전기에서 사용하실 수 있는 충전카드를 발급받으실 수 있습니다.\n환경부 충전카드는 기본으로 발급받으시고, 기아 충전 파트너사 카드를 추가로 발급 받으실 수 있습니다.\n환경부 충전카드 발급\n① 환경부 전기차 충전소 홈페이지를 통한 회원가입 및 회원카드 신청 가능\n② 회원가입 고객 대상 차종 및 출고/등록 여부 확인 즉시 충전카드 발송\n③ 충전카드 수령(3~4일 소요) 후 홈페이지 카드 사용 등록 시 공용 충전기 이용 가능\n* (2019년 기준) 환경부 중심으로 전체 민간 충전사업자 통합\n기아차 충전 파트너사 가입 및 멤버십 카드 발급\n① 기아차 충전 파트너사 홈페이지(한국전기차 충전 서비스, 에스트래픽)를 통한 회원가입 및 멤버십 카드 신청\n② 파트너사 멤버십 카드 수령(3~5일 소요) 후 파트너사 멤버십 카드로도 공용 충전기 이용 가능\n* 유의 사항 : 충전 파트너사 멤버십 미가입 시 레드 포인트 사용 불가\n환경부 전기차 충전소"
            },
            {
                "질문": "전기차의 고전압 배터리는 화재 및 폭발에 안전한가요?",
                "답변": "전기차 배터리팩은 복합적인 안전장치 구축을 통해 배터리 열화, 발화 및 폭발을 예방합니다.\n리튬이온배터리를 사용하는 전기차는 복합적인 안전장치를 구축하고 있습니다.\n현재 판매되고 있는 전기차 배터리팩 구성부품은 배터리 관리 시스템이 잘 갖춰져 있어서 차량 내 배터리 온도 상승으로 인한 발화 가능성을 차단하고 있습니다.\n미국 및 유럽의 안전 기준이 엄격해지면서, 자동차 제조사들은 배터리의 열을 제어하기 위한 안전 기술을 더욱 정교하게 개량하고 있습니다.\n현재 전 세계적으로 전기차의 보급이 성장기에 있으며, 배터리의 열화 정도와 급격한 기후 변화 등의 환경을 가정하면서 품질 테스트를 강화하고, 사고 시 충격을 덜 받는 위치에 배터리를 배치함과 동시에 추가적인 안전장치를 개발하고 있습니다.\n고전압 배터리의 안전성 검증 : 4단계\n1단계 : 차량 협조제어\n· 고전압 부품 고장 시 Fail-Safe 기능 적용\n2단계 : 능동 보호(BMS 제어)\n· 충전 상태 제어, 셀 밸런싱 등을 통한 오사용 방지\n· 배터리 이상 감지 시 릴레이 ON/OFF 제어\n3단계 : 수동 보호\n· 단락 시 안전 확보 위해 전압 센싱 라인 퓨즈 적용\n· 외부 단락 시 고전류 차단 퓨즈 및 서비스 플러그 적용\n4단계 : 배터리 셀 강건설계\n· 강도 향상 위한 세라믹 코팅 분리막\n· 방열 특성이 우수한 파우치 타입 리튬 전지\n안전성 검증시험\n① 충돌 시험 : 80kph 후방 추돌\n· 발화/폭발 없을 것\n② 수밀 시험 : 배터리 수분 유입 검증\n· 기능/성능 이상 없을 것\n③ 침수 시험 : 소금물에 배터리 침수\n· 발화/폭발 없을 것\n④ 연소 시험 : 화염에 배터리 직접 노출\n· 폭발 없을 것"
            },
            {
                "질문": "전기차에서 발생하는 전자파가 인체에 유해하지 않나요?",
                "답변": "전기차에서 발생하는 전자파는 인체에 영향을 미치지 않는 경미한 수준입니다.\n당사 연구소에서는 2018년 출시된 전기차를 대상으로 현재 유력한 평가 방법으로 고려되는 JASO 평가 법 및 국제 이온화 방사 보호 위원회(ICNIRP) 권고치를 기준으로 자체적으로 평가 및 판정을 추진하였습니다.\n정차 중, 주행 중, 충전 중에 각각의 좌석에서 발생하는 실내 자기장의 수준을 평가한 것으로, 당사 전기차의 실내 자기장 분포는 국제기구 권고치 대비 매우 낮은 수준으로 평가되었으며  최근 조사된 전자담배의 전자파(1~3μ T)와 유사한 수준입니다.\n① JASO : Japanese Automotive Standards Organization (일본 자동차 표준 협회)\n② ICNIRP : International Commission on Non-Ionizing Radiation Protection (국제 이온화 방사보호 위원회)\n③ μ T(마이크로 테슬라) : 전자파의 세기를 측정하는 단위로, 100만분의 1 테슬라를 뜻함"
            },
            {
                "질문": "전기차 회생제동(패들 쉬프트) 사용방법은 어떻게 되나요?",
                "답변": "회생제동 기능은 차량 감속 및 제동 시 전기 모터를 사용, 운동 에너지를 전기 에너지로 변환시켜 구동용(고전압) 배터리를 충전하는 기능입니다.\n따라서, 패들 쉬프트 레 버로 회생제동량(0~3단계)을 변경하여 실제 주행도로 전비 개선 효과를 동시에 누릴 수 있습니다.\n좌측 패들쉬프트를 한번 당길때마다 회생제동량이 1단계씩 상승하면서 차량 감속도가 커지고,  우측을 한번 당길때마다 회생제동량이1단계씩 하락해  차량 감속도가 작아집니다.\n패들쉬프트 좌측을 0.5초 이상 당기고 있으면 회생제동량이 증가하며, 계속 당기고 있으면 차량 정차도 가능합니다."
            }
        ],
        # ▼▼▼ [수정된 부분] "제주전기자동차서비스" FAQ 내용 ▼▼▼
        "제주전기자동차서비스": [
            {
                "질문": "차량별 급속충전기 타입을 모르겠어요.",
                "답변": "레이, 소울, 리프, 아이오닉(16년식) 차량은 DC차데모 방식이며 SM3 차량은 AC3상, 스파크와 I3, 아이오닉(16년제외), 코나, 니로 등 차량은 DC콤보 방식입니다. 충전소별 충전타입이 상이하니 이점 참고하시어 충전소를 이용하시기 바랍니다."
            },
            {
                "질문": "급속충전기 사용법이 궁금해요.",
                "답변": "우선 차량 기어를 P에 놓고 시동은 꺼둡니다. 충전기 화면에 충전 타입을 먼저 선택해 주시고 소지하고 있던 충전 카드를 충전기 우측 카드 태그 부분에 접촉시킵니다. 인증이 완료된 후 충전기 도어가 열리며, 보관되어 있던 충전기 커넥터를 꺼내어 차량 충전구에 연결시킵니다. 충전기 연결 시 커넥터를 끝까지 눌러 단단히 고정시킵니다. 충전을 중지시키거나 완료가 되면 충전기 화면에 ‘충전 중지’ 혹은 ‘충전 완료’를 누르시고 커넥터를 분리하여 원래 위치에 놓고 덮개를 닫아 주시면 됩니다."
            },
            {
                "질문": "완속충전기 사용법이 궁금해요.",
                "답변": "우선 차량 기어를 P에 놓고 시동은 꺼둡니다. 충전기 화면에 충전 시작 버튼을 눌러 주시고 인증을 한 후 타입 선택을 합니다.\nSM3 등 7핀 차량 - B타입 선택\n아이오닉, 코나 등 5핀 차량 - C타입 선택\nB타입인 경우 소지하고 계신 커넥터를, C타입의 경우 충전기에 연결된 커넥터를 차량에 연결합니다. 이때 반드시 커넥터 덮개를 닫아 주셔야 충전이 진행됩니다. 커넥터 덮개가 없는 모델은 연결이 확인되면 바로 충전이 진행됩니다. 충전을 중지시키거나 완료가 되면 충전기 화면에 ‘충전 중지’ 혹은 ‘충전 완료’를 누르신 후 커넥터를 분리하시면 됩니다."
            },
            {
                "질문": "충전기 위치는 어떻게 확인하나요?",
                "답변": "홈페이지 www.ev.or.kr에서 충전소 찾기를 이용하여 검색하시거나 전기차 충전소 검색 어플 evwhere 등을 이용하시면 편리하게 위치 확인이 가능합니다."
            },
            {
                "질문": "(SM3) 차량에서 커넥터가 안 빠져요.",
                "답변": "SM3 차량 스마트키에서 콘센트 모양의 버튼을 누르면 충전기 커넥터가 분리됩니다. 차량 스마트키가 없을 시에는 차량 브레이크를 밟고 시동을 걸면 커넥터가 분리됩니다."
            },
            {
                "질문": "충전기 커넥터 도어가 열리지 않아요.",
                "답변": "충전기의 일시적인 오류일 수 있으며, 충전기 화면 밑에 비상정지 버튼을 작동한 후 해제하여서 다시 한번 시도해 보시기 바랍니다. 다시 시도해도 충전기 커넥터 문이 열리지 않을 시 해당 충전기를 운영하고 있는 고객센터로 문의하여 주시기 바랍니다."
            },
            {
                "질문": "충전기 화면에 비상정지라고 쓰여 있어요.",
                "답변": "현재 충전기에 비상정지 버튼이 눌러져 있는 상태입니다. 충전기 화면 밑에 빨간색 비상정지 버튼을 오른쪽으로 돌리시면 비상정지 버튼이 해제되며 충전기가 대기 화면으로 돌아가면 충전을 하시면 됩니다."
            },
            {
                "질문": "현재 충전하는 사람이 없는데 충전기화면에는 충전중이라고 나와요.",
                "답변": "충전기를 이용한 전 사용자가 제대로 충전을 종료시키지 않아 나오는 현상입니다. 충전기 화면 밑에 비상정지 버튼을 끝까지 누른 후 오른쪽으로 돌리면 충전이 종료되며 충전기가 대기 화면으로 돌아가면 충전을 하시면 됩니다."
            },
            {
                "질문": "아이오닉인데 커넥터가 맞지 않아요.",
                "답변": "2016년 아이오닉의 경우 충전구가 2개입니다. 완속 충전구는 차량 앞쪽에 있고, 급속 충전구는 차량 좌측 후방(일반 차량 주유구)에 있습니다. 완속 충전구는 완속 충전구 가장자리를 누르면 충전구가 열립니다. 급속 충전기 사용 시 16년도 아이오닉(충전구가 앞뒤로 두개)은 DC차데모, 17년도 아이오닉(충전구가 뒤에 하나)은 DC콤보를 선택해 주시면 됩니다."
            },
            {
                "질문": "충전을 할 때마다 주행가능 거리가 다른데 차량에 문제가 있는건가요?",
                "답변": "주행가능 거리는 운행 패턴에 따라 수시로 변동될 수 있습니다. 특히, 배터리 특성상 날씨 및 온도에 따라 주행가능 거리가 변동될 수 있는데 이는 일반적인 현상으로 차량에 문제가 있는 것은 아닙니다."
            },
            {
                "질문": "전기차 충전이 안될 경우 어떻게 하나요?",
                "답변": "차량의 시동을 끄고 충전을 진행하고 있는지 확인합니다. 차량에 맞는 타입을 선택하였는지 확인합니다. 완속 타입의 충전기인 경우 커넥터 도어(충전기에서 충전선이 나오는 부분의 철판)를 닫았는지 확인합니다. 충전이 진행되지 않을 경우, 처음부터 다시 한번 시도합니다. 재시도하여도 충전이 진행되지 않을 경우 고객센터 1670-2690으로 연락하시면, 가까운 충전소 위치 및 원격지원 등의 도움을 받으실 수 있습니다."
            }
        ]
    }
    return faq_data

# --- 페이지 렌더링 함수 ---
def render_faq_page():
    """ 기업별 FAQ 페이지 렌더링 """
    faq_data = get_faq_data()
    
    kia_tab, jeju_tab = st.tabs(["**기아 (KIA)**", "**제주전기자동차서비스**"])

    with kia_tab:
        st.subheader("기아 전기차 관련 주요 질문")
        for item in faq_data["기아"]:
            with st.expander(f"**Q. {item['질문']}**"):
                st.write(item['답변'])

    with jeju_tab:
        st.subheader("제주전기자동차서비스 관련 주요 질문")
        for item in faq_data["제주전기자동차서비스"]:
            with st.expander(f"**Q. {item['질문']}**"):
                st.write(item['답변'])


# --- 메인 앱 실행 ---
if __name__ == "__main__":
    render_faq_page()